import{n as o}from"./index-2eae4f95.js";const n=o("children",{state:()=>({children:[],currentChildId:null}),getters:{currentChild:e=>e.children.find(r=>r.id===e.currentChildId),hasChildren:e=>e.children.length>0},actions:{addChild(e){const r=Date.now().toString();this.children.push({...e,id:r,createdAt:new Date().toISOString()}),this.currentChildId||(this.currentChildId=r),this.saveToLocal()},updateChild(e,r){const t=this.children.findIndex(d=>d.id===e);t>-1&&(this.children[t]={...this.children[t],...r,updatedAt:new Date().toISOString()},this.saveToLocal())},deleteChild(e){const r=this.children.findIndex(t=>t.id===e);r>-1&&(this.children.splice(r,1),this.currentChildId===e&&(this.currentChildId=this.children.length>0?this.children[0].id:null),this.saveToLocal())},setCurrentChild(e){this.currentChildId=e,this.saveToLocal()},loadFromLocal(){try{const e=localStorage.getItem("children");if(e){const r=JSON.parse(e);this.children=r.children,this.currentChildId=r.currentChildId}}catch(e){console.error("Failed to load children data:",e)}},saveToLocal(){try{localStorage.setItem("children",JSON.stringify({children:this.children,currentChildId:this.currentChildId}))}catch(e){console.error("Failed to save children data:",e)}}}}),a=o("records",{state:()=>({records:{}}),getters:{getChildRecords:e=>r=>e.records[r]||[]},actions:{addRecord(e,r){this.records[e]||(this.records[e]=[]);const t=Date.now().toString();this.records[e].push({...r,id:t,childId:e,createdAt:new Date().toISOString()}),this.saveToLocal()},updateRecord(e,r,t){const d=this.records[e]||[],i=d.findIndex(s=>s.id===r);i>-1&&(d[i]={...d[i],...t,updatedAt:new Date().toISOString()},this.saveToLocal())},deleteRecord(e,r){const t=this.records[e]||[],d=t.findIndex(i=>i.id===r);d>-1&&(t.splice(d,1),this.saveToLocal())},deleteChildRecords(e){delete this.records[e],this.saveToLocal()},loadFromLocal(){try{const e=localStorage.getItem("records");e&&(this.records=JSON.parse(e))}catch(e){console.error("Failed to load records data:",e)}},saveToLocal(){try{localStorage.setItem("records",JSON.stringify(this.records))}catch(e){console.error("Failed to save records data:",e)}}}}),l=(e,r)=>{const t=e.__vccOpts||e;for(const[d,i]of r)t[d]=i;return t};export{l as _,a,n as u};
//# sourceMappingURL=_plugin-vue_export-helper-28b54625.js.map
