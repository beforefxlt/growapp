import{_ as H,u as J,a as K}from"./_plugin-vue_export-helper-28b54625.js";import{c as k,r as p,a as o,b as m,d as x,g as c,h as e,f as t,e as S,F as O,m as P,i as y,p as Q,j as s,t as f,k as W,l as X,E as Y}from"./index-2eae4f95.js";const Z={class:"settings-container"},ee={class:"settings-header"},le={class:"card-header"},te={__name:"SettingsView",setup(ne){const u=J(),D=K(),B=k(()=>u.children),$=k(()=>u.hasChildren),b=k(()=>u.currentChildId),r=p(!1),_=p(!1),v=p(null),a=p({name:"",gender:"male",birthDate:""}),E=()=>{a.value={name:"",gender:"male",birthDate:""},_.value=!1,v.value=null},I=d=>{a.value={...d},_.value=!0,v.value=d.id,r.value=!0},U=d=>{Y.confirm("删除儿童信息将同时删除所有相关的生长记录，是否继续？","警告",{type:"warning"}).then(()=>{u.deleteChild(d.id),D.deleteChildRecords(d.id)})},F=d=>{u.setCurrentChild(d)},N=()=>{_.value?u.updateChild(v.value,a.value):u.addChild(a.value),r.value=!1,E()};return(d,l)=>{const C=o("el-icon"),i=o("el-button"),R=o("el-empty"),j=o("el-button-group"),V=o("el-descriptions-item"),A=o("el-descriptions"),L=o("el-card"),M=o("el-input"),g=o("el-form-item"),h=o("el-radio"),T=o("el-radio-group"),q=o("el-date-picker"),z=o("el-form"),G=o("el-dialog");return m(),x("div",Z,[c("div",ee,[l[7]||(l[7]=c("h2",null,"儿童信息管理",-1)),e(i,{type:"primary",onClick:l[0]||(l[0]=n=>r.value=!0)},{default:t(()=>[e(C,null,{default:t(()=>[e(y(Q))]),_:1}),l[6]||(l[6]=s("添加儿童 "))]),_:1})]),$.value?(m(!0),x(O,{key:1},P(B.value,n=>(m(),S(L,{key:n.id,class:"child-card"},{header:t(()=>[c("div",le,[c("span",null,f(n.name),1),e(j,null,{default:t(()=>[e(i,{type:"primary",plain:n.id!==b.value,onClick:w=>F(n.id)},{default:t(()=>[s(f(n.id===b.value?"当前选中":"选择"),1)]),_:2},1032,["plain","onClick"]),e(i,{type:"primary",link:"",onClick:w=>I(n)},{default:t(()=>[e(C,null,{default:t(()=>[e(y(W))]),_:1})]),_:2},1032,["onClick"]),e(i,{type:"danger",link:"",onClick:w=>U(n)},{default:t(()=>[e(C,null,{default:t(()=>[e(y(X))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),default:t(()=>[e(A,{column:1},{default:t(()=>[e(V,{label:"性别"},{default:t(()=>[s(f(n.gender==="male"?"男":"女"),1)]),_:2},1024),e(V,{label:"出生日期"},{default:t(()=>[s(f(n.birthDate),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):(m(),S(R,{key:0,description:"暂无儿童信息"})),e(G,{modelValue:r.value,"onUpdate:modelValue":l[5]||(l[5]=n=>r.value=n),title:_.value?"编辑儿童信息":"添加儿童",width:"500px"},{footer:t(()=>[e(i,{onClick:l[4]||(l[4]=n=>r.value=!1)},{default:t(()=>l[10]||(l[10]=[s("取消")])),_:1}),e(i,{type:"primary",onClick:N},{default:t(()=>l[11]||(l[11]=[s("保存")])),_:1})]),default:t(()=>[e(z,{model:a.value,"label-width":"100px"},{default:t(()=>[e(g,{label:"姓名"},{default:t(()=>[e(M,{modelValue:a.value.name,"onUpdate:modelValue":l[1]||(l[1]=n=>a.value.name=n),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),e(g,{label:"性别"},{default:t(()=>[e(T,{modelValue:a.value.gender,"onUpdate:modelValue":l[2]||(l[2]=n=>a.value.gender=n)},{default:t(()=>[e(h,{label:"male"},{default:t(()=>l[8]||(l[8]=[s("男")])),_:1}),e(h,{label:"female"},{default:t(()=>l[9]||(l[9]=[s("女")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"出生日期"},{default:t(()=>[e(q,{modelValue:a.value.birthDate,"onUpdate:modelValue":l[3]||(l[3]=n=>a.value.birthDate=n),type:"date",placeholder:"选择出生日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},de=H(te,[["__scopeId","data-v-83715851"]]);export{de as default};
//# sourceMappingURL=SettingsView-8ec80a2b.js.map
